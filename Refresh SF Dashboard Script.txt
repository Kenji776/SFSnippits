javascript: (function () { function countDown() { counter--; if (buttonIsDiv) { button.innerHTML = "Refresh (" + formatTime(counter) + ")"; } else { button.value = "Refresh (" + formatTime(counter) + ")"; } if (counter == 0) { button.click(); counter = refreshInterval; window.clearInterval(timerInterval); if (buttonIsDiv) { button.innerHTML = "Waiting for Refresh"; } else { button.value = "Waiting for Refresh"; } } } function startTimer() { window.clearInterval(timerInterval); timerInterval = setInterval(countDown, 1000); } function formatTime(seconds) { var totalSec = seconds; var hours = parseInt(totalSec / 3600,10) % 24; var minutes = parseInt(totalSec / 60,10) % 60; var seconds = totalSec % 60; var result = (hours < 10 ? "0" + hours : hours) + ":" + (minutes < 10 ? "0" + minutes : minutes) + ":" + (seconds < 10 ? "0" + seconds : seconds); return result; } var refreshInterval = 90; var counter = refreshInterval; var timerInterval; var button = document.getElementById('refreshInput'); var buttonIsDiv = false; if (button == null) { button = document.getElementById('refreshLabel'); if (button == null) { alert('Refresh Button not found! Salesforce may have changed the buttons ID or it may not be visiable for some reason. Please make sure you are on a dashboard page with the Refresh button visible'); } else { buttonIsDiv = true; } } document.addEventListener("DOMSubtreeModified", function () { if (event.target.id == "componentContentArea") { startTimer(); } }, true); if(button != null) { startTimer(); } })();